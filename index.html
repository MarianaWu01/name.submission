<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Information Submission</title>
</head>
<body>
    <h2>Enter Your Information</h2>

    <!-- Name Input -->
    <label for="nameInput">Your Name:</label>
    <input type="text" id="nameInput" placeholder="Your Name">

    <!-- Submit Button -->
    <button id="submitButton" onclick="submitData()">Submit</button>

    <p id="status"></p>

    <script>
        function submitData() {
            var name = document.getElementById("nameInput").value.trim();
            var statusText = document.getElementById("status");
            var submitButton = document.getElementById("submitButton");

            // Validate input
            if (name === "") {
                statusText.innerText = "Please enter your name.";
                return;
            }

            // Disable button to prevent duplicate submissions
            submitButton.disabled = true;
            statusText.innerText = "Submitting...";

            // Send data to Google Apps Script
            fetch("https://script.google.com/macros/s/AKfycbwxQcOFmEQjSX10U_QJ9YIj2H8deoj9rG-df6FkY2tK8F79PsdtMczQO2ox4T0z0f5i/exec", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ name: name })
            })
            .then(response => response.json())
            .then(data => {
                if (data.status === "success") {
                    statusText.innerText = "Submission Successful!";
                } else {
                    statusText.innerText = "Error: " + (data.message || "Unknown error.");
                }
            })
            .catch(error => {
                console.error("Error:", error);
                statusText.innerText = "Submission failed. Please try again.";
            })
            .finally(() => {
                submitButton.disabled = false; // Re-enable button after request
            });
        }
    </script>
</body>
</html>
